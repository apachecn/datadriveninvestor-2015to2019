# 这个系列的一个温和的开始-时间序列及其分析。

> 原文：<https://medium.datadriveninvestor.com/a-gentle-start-in-this-series-time-series-and-its-analysis-bb0a67503d6e?source=collection_archive---------9----------------------->

![](img/6407dd9eaa1aa1471535ca1e967aa8cd.png)

source: [https://freedom.to/](https://freedom.to/)

## [1。第一个](https://medium.com/@venali/the-first-one-lets-define-the-time-series-and-its-analysis-c81abf1e7308) 2。[这一系列的温和开局](https://medium.com/@venali/a-gentle-start-in-this-series-time-series-and-its-analysis-bb0a67503d6e) 3。[逼近一个时间序列](https://medium.com/@venali/approximating-a-time-series-time-series-and-its-analysis-923aa81ca80a)

这篇文章和附带的笔记本是这个系列的一个温和的开始，在这里我们涵盖了关于时间序列的先决条件，从介绍，导入，可视化，分解，随机漫步到使用 AR/MR/ARMA/ARIMA/VAR 的相当不错的建模水平。这篇文章是为了在我们进入一些我真正想讨论的话题之前先梳理一下时间序列的概念。

在后续文章中，我将深入探讨高级近似、BoW 变换、分类、数据集实用程序、成像、DTW 等度量、多元分类和回归、变换算法，以及时间和机会允许的其他主题。这只是我最想做的事情，而且节奏很快，所以我要求阅读更多的书籍/研究论文，以便在需要时获得更多的参考资料。我将上传一个文件夹，里面有激发了这个系列的几个资源，所以你可以跳着去阅读更多的技术深度。作为谈话的结尾，我想说这是一个相当高级的系列，适合对该主题感兴趣的人，如果您只希望对时间序列领域有一个中级到高级的介绍，初学者可以只阅读本文而不是所有系列。对我来说，时间序列只是“反映其结构中与时间相关的附加信息的数据”

给一个合乎逻辑的解释，时间序列是一系列数据，具有:
1。启动
2。end&3
3。数据点本身的频率
。

[](https://www.datadriveninvestor.com/2019/01/23/which-is-more-promising-data-science-or-software-engineering/) [## 数据科学和软件工程哪个更有前途？数据驱动的投资者

### 大约一个月前，当我坐在咖啡馆里为一个客户开发网站时，我发现了这个女人…

www.datadriveninvestor.com](https://www.datadriveninvestor.com/2019/01/23/which-is-more-promising-data-science-or-software-engineering/) 

给定这种结构，我们得到一个时间序列，理解时间序列的最好方法是首先阅读它。

# 但是在我们阅读我们的时间序列之前，让我们先列出一些非常基本的时间序列库

## NumPy

Numerical Python 是一个用于科学计算的库。

## 熊猫

该库提供了高效易用的数据结构，如系列、数据框和面板。

## SciPy

科学 Python 是一个用于科学和技术计算的库。

## Scikit 学习

这个库是一个 SciPy 工具包，广泛用于统计建模、机器学习和深度学习，因为它包含各种可定制的回归、分类和聚类模型。

## 统计模型

像 Scikit Learn 一样，这个库用于统计数据探索和统计建模。

## Matplotlib

该库用于各种格式的数据可视化，如线图、条形图、热图、散点图、直方图等。

## 日期时间

这个库及其两个模块 DateTime 和 calendar 提供了读取、格式化和操作时间所需的所有 DateTime 功能。

## 在笔记本里，我们将绘制我们的第一个时间序列

# 让我们谈一谈时间戳和周期。

给一个合乎逻辑的解释，时间序列是一系列数据，具有:
1。启动
2。&结束
3。频率
数据点本身。

1。2.第三。定义时间戳。时间戳代表时间-空间中的一个可区分的点。周期是两个时间戳之间的距离或间隔。

## 该笔记本介绍了时间序列的基本统计数据

*-百分比变化
-连续行中的绝对变化
-比较两个时间序列*

## 窗口是固定的时间间隔。窗口函数用于识别选定间隔大小的子间隔。

使用先前的时间步长来预测下一个时间步长被称为滑动窗口法

1.  滚动—相同尺寸和滑动
2.  扩展-包含所有先前的值

简单地说，一个窗口就像:我们有 pt1，pt2，pt3，pt4，pt5…假设我们选择 3 个点的窗口，我们选择前三个点(pt1，pt2，pt3 ),并将其平均值作为新的时间序列点 n_pt1。将窗口移动一个位置，选择三个点(pt2、pt3、pt4 ),并将其平均值作为新的时间序列点 n_pt2，依此类推，得到 n_pt1、n_pt2、n_pt3、n_pt4、n_pt5…

# 下面介绍一些图表吧！

## 开盘-盘高-盘低-收盘图

对于销售和制造业来说，时间序列是一种非常常见的数据类型，但可用的 ts 建模教程和广泛流传的讨论是在金融行业。鉴于开盘-盘高-盘低-收盘图(或 OHLC 图)被用作一种交易工具，用于可视化和分析证券、货币、股票、债券、商品等的价格随时间的变化。

## 烛台图表

另一个用于分析价格变动的图表或多或少类似于箱线图，是蜡烛图。

1.  每个符号代表一个时间段(一分钟、一小时、一天、一个月等)的压缩交易活动。
2.  每个蜡烛图符号都沿着 x 轴上的时间刻度绘制，显示一段时间内的交易活动。
3.  符号中的主矩形称为实体，用于显示该时间段的开盘价和收盘价之间的范围。而从真实身体的底部和顶部延伸的线被称为下阴影和上阴影(或灯芯)。
4.  当市场看涨时(收盘价高于开盘价)，身体通常是白色或绿色。但是当市场看跌时(收盘价比开盘价低)，身体通常是黑色或红色。

我希望现在你能联想到所有带有绿色和红色方框的财务分析黑屏。请记住，蜡烛图并不表示开盘价和收盘价之间发生的事件，只表示两个价格之间的关系。

# 让我们更深入地研究一下这种相关性

相关性是一种统计技术，可以显示变量对是否相关以及相关程度如何。

自相关，也称为序列相关，是时间序列与其自身延迟副本的相关。

部分自相关-部分自相关函数可以解释为序列对其过去滞后的回归。

# 我们来谈谈分解

时间序列有 4 个组成部分，如下所示

1.  级别-它是系列变化的平均值。
2.  趋势——它是一个变量随时间增加或减少的行为。
3.  季节性——它是时间序列的循环行为。即时间序列的清晰周期模式(类似正弦函数)
4.  噪声——它是由于环境因素而增加的观测误差。即异常值或缺失值

# 更多关于季节性的信息…

虽然我们说这是时间序列的循环行为。即时间序列的清晰周期模式(类似正弦函数)存在两个时间序列分解时间序列意味着将其分离为其组成成分，通常是趋势成分和不规则成分，如果是季节性时间序列，则是季节性成分。

## 非季节性数据

非季节性时间序列由趋势部分和不规则部分组成。它有一个模式，但不是季节性的。

## 季节性数据

季节性时间序列由趋势分量、季节性分量和不规则分量组成。它有一个季节性的模式，就像雨季里雨伞的销量增加一样。

# 关于噪音的更多信息…

尽管我们说过这是由于环境因素而增加的观测误差。即异常值或缺失值

它被描述为白噪声，与传统数据集中的异常值或缺失值有所不同

## 白噪音已经…

所有滞后下的恒定均值恒定方差零自相关

# 随机漫步…

一个随机的谈话…虽然不相关，你们读过《华尔街上的随机漫步》吗？对于每一个试图预测的天真的人来说，这是一个美丽的读物。我这样称呼它是因为我是最天真的，这篇文章教会了我一两件我认为非常重要的事情，并构成了我硕士论文的基础

一些随机漫步…

Random 假设在每个周期中，变量从它的前一个值随机移动一步，并且这些步的大小独立且相同地分布。

随机游走是一个数学对象，称为随机或随机过程，它描述了一条由一些数学空间(如整数)上的一系列随机步骤组成的路径。

一般来说，如果我们谈论股票，*今天的价格=昨天的价格+噪音*

***Pt = Pt-1 + εt*** 随机游走是无法预测的，因为噪声是随机的。

有漂移的随机游走(漂移(μ)为零均值)

**Pt—Pt-1 =μ+εt**

随机游走的回归检验

***Pt = α + βPt-1 + εt 等价于 Pt — Pt-1 = α + βPt-1 + εt***

测试:

***H0: β = 1(这是随机漫步)H1: β < 1(这不是随机漫步)***

迪基-富勒试验:

***H0: β = 0(这是一次随机漫步)H1: β < 0(这不是一次随机漫步)*** 扩展的迪基-富勒检验扩展的迪基-富勒检验(ADF)检验时间序列样本中存在单位根的零假设。这基本上是迪基-富勒检验，在 RHS 上有更多的滞后变化。

# 关于平稳性时间序列的一点…

平稳时间序列的统计特性如均值、方差、自相关等。都是不变的。

1.强平稳:是一个随机过程，它的无条件联合概率分布在随时间移动时不变。因此，平均值和方差等参数也不会随时间而改变。
2。弱平稳:是指均值、方差、自相关在整个时间内保持不变的过程

平稳很重要，因为依赖于时间的非平稳序列在建模时间序列时需要考虑太多的参数。diff()方法可以很容易地将一个非平稳序列转换为平稳序列。

我们将尝试分解上述分解时间序列的季节性成分。

这篇文章和附带的笔记本涵盖并给出了一个温和的开始系列，其中我们涵盖了时间序列的先决条件，从介绍，导入，可视化，分解，随机漫步

现在是使用 AR/MR/ARMA/ARIMA/VAR 进行相当不错的中高级建模的时候了。

# AR 模型

如果统计模型根据过去的值预测未来的值，则该模型是自回归的。例如，自回归模型可能试图根据股票的过去表现来预测其未来价格。

自回归(AR)模型可以说是应用最广泛的时间序列模型。它与简单线性回归有着相似的解释，但这里每个观察值都是基于前一个观察值进行回归的。AR 模型还包括白噪声(WN)和随机游走(RW)模型，它们在前面的章节中作为特例进行了研究。

如果统计模型根据过去的值预测未来的值，则该模型是自回归的。例如，自回归模型可能试图根据股票的过去表现来预测其未来价格。自回归(AR)模型是一种随机过程的表示；因此，它被用来描述自然界、经济学等中的某些时变过程。自回归模型规定，输出变量线性依赖于其先前值和一个随机项(一个不完全可预测的项)；因此，该模型是随机差分方程的形式。

1.AR(1)自回归过程是当前值基于前一个值的过程，
2。而 AR(2)过程是当前值基于前两个值的过程。
3。AR(0)过程用于白噪声，并且在各项之间没有相关性。

AR(1)模型
***rt =μ+ϕrt-1+εt***

由于 RHS 只有一个滞后值(Rt-1)，这被称为 1 阶 AR 模型，其中μ是均值，ε是时间 t
的噪声。如果ϕ = 1，则为随机游走。否则如果ϕ = 0，它就是白噪声。否则如果-1 < ϕ < 1，它就是静止的。如果ϕ死了，就有男人回归。如果ϕ是+ve，就有动量。

AR(2)模型
***rt =μ+ϕ1rt-1+ϕ2rt-2+εt***

AR(3)模型
***rt =μ+ϕ1rt-1+ϕ2rt-2+ϕ3rt-3+εt***

# 让我们看看 MA 模型的一些实现

移动平均(MA)模型是建模单变量时间序列的常用方法。移动平均模型规定，输出变量线性依赖于随机(不完全可预测)项的当前值和各种过去值。

MA(移动平均)模型通常用于模拟显示连续观测值之间短期相关性的时间序列。直观地说，MA 模型可以用来描述英国国王死亡年龄时间序列中的不规则部分，这是很有意义的，因为我们可能会预计某个英国国王的死亡年龄会对下一个或两个国王的死亡年龄产生一些影响，但对此后统治时间更长的国王的死亡年龄没有太大影响

移动平均(MA)模型是建模单变量时间序列的常用方法。移动平均模型规定，输出变量线性依赖于随机(不完全可预测)项的当前值和各种过去值。

马(1)模型***rt =μ+ϵt1+θϵt-1***

它转化为 ***今天的收益=均值+今天的噪音+昨天的噪音***

由于 RHS 中只有一个滞后值，所以它是一阶 MA 模型

AR 和 MA 模型的区别如下:

纯 AR 模型-依赖于您正在建模的数据的滞后值来进行预测

纯移动平均模型-根据您之前所做预测的误差(残差)来进行当前预测

混合模型 ARMA 在进行预测时考虑上述两个因素

# 让我们看看 ARMA 模型的一些实现

RMA 模型是 AR(p)和 MA(q)模型的简单合并

自回归-移动平均(ARMA)模型用两个多项式对(弱)平稳随机过程进行了简洁的描述，一个用于自回归，另一个用于移动平均。是 AR 和 MA 模式的融合。

ARMA(1，1)模型 ***Rt = μ + ϕRt-1 + ϵt + θϵt-1***

基本上， ***今天的回报=均值+昨天的回报+噪音+昨天的噪音。***

ARIMA 模型显示出比 AR 和 MA 模型更好的结果。

# 让我们看看 ARIMA 模型的一些实现

什么是自回归综合移动平均线？自回归综合移动平均或 ARIMA 是一种统计分析模型，它使用时间序列数据来更好地了解数据集或预测未来趋势。

了解自回归综合移动平均(ARIMA)自回归综合移动平均模型是回归分析的一种形式，用于衡量一个因变量相对于其他变化变量的强度。该模型的目标是通过检查序列值之间的差异而不是通过实际值来预测未来的证券或金融市场走势。

ARIMA 模型可以通过如下方式概括其各个组成部分来理解:

自回归(AR)指的是一种模型，它显示一个不断变化的变量，该变量根据其滞后值或先前值进行回归。积分(I)表示原始观测值的差异，以允许时间序列变得稳定，即数据值由数据值和先前值之间的差异代替。移动平均(MA)结合了观测值和应用于滞后观测值的移动平均模型的残差之间的相关性。每个组件都作为一个带有标准符号的参数。对于 ARIMA 模型，标准的符号是带有 p、d 和 q 的 ARIMA，其中用整数值代替参数来表示所使用的 ARIMA 模型的类型。这些参数可以定义为:

p:模型中滞后观测值的个数；也称为滞后订单。d:原始观测值被差分的次数；也称为差异程度。q:移动平均线窗口的大小；也称为移动平均线的顺序。例如，在线性回归模型中，包括了术语的数量和类型。可用作参数的 0 值意味着该特定组件不应在模型中使用。这样，可以构建 ARIMA 模型来执行 ARMA 模型的功能，或者甚至是简单的 AR、I 或 MA 模型的功能。

自回归综合移动平均(ARIMA)模型是自回归移动平均(ARMA)模型的推广。这两种模型都适用于时间序列数据，以便更好地理解数据或预测序列中的未来点(预测)。在数据显示非平稳性证据的一些情况下，应用 ARIMA 模型，其中初始差分步骤(对应于模型的“积分”部分)可以应用一次或多次以消除非平稳性。ARIMA 模型的形式为:ARIMA(p，d，q): p 是 AR 参数，d 是微分参数，q 是 MA 参数

***ARIMA(1，0，0) yt = a1yt-1 + ϵt***

**t5】ARIMA(1，0，1)yt = a1yt-1+ϵt+b1ϵt-1**

***ARIMA(1，1，1)δyt = a1δyt-1+ϵt+b1ϵt-1 其中δyt = yt—yt-1***

# 让我们来看看风险值模型的一些实现

VAR 模型(向量自回归模型)用于多元时间序列。该结构是每个变量是其自身和其他变量的过去滞后的线性函数。例如，假设我们测量三个不同的时间序列变量，分别用 xt，1，xt，2 和 xt，3 表示。

表示为 VAR(1)的 1 阶向量自回归模型如下:

***xt,1=α1+ϕ11xt−1,1+ϕ12xt−1,2+ϕ13xt−1,3+wt,1***

***xt,2=α2+ϕ21xt−1,1+ϕ22xt−1,2+ϕ23xt−1,3+wt,2***

***xt,3=α3+ϕ31xt−1,1+ϕ32xt−1,2+ϕ33xt−1,3+wt,3***

每个变量都是集合中所有变量的滞后 1 值的线性函数。

# 信用

该系列参考了一些数据源、软件包、研究论文、博客、书籍、vlog、实用建议、工业工作和个人经历。我感谢这一领域的每一个人，特别是我接触到的他们的工作使我能够把这些放在一起。所有的荣誉都属于外面的聪明人！这篇特别的文章有[来源](https://www.kaggle.com/thebrownviking20/everything-you-can-do-with-a-time-series)

此外，这个系列是第一次有意识地努力建立自我证明的基础，而不期望在职业阶梯上获得赞赏。虽然每个人都生活在未知的奋斗和目标的发现之中，但我个人认为，偷偷微笑一下，对在各种情况下做出的所有正确或错误的生活选择表示感谢是没问题的，因为否则你就不可能做出更好的选择。