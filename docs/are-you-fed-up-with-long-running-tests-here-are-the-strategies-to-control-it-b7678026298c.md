# 你厌倦了长时间的测试吗？以下是控制它的策略。

> 原文：<https://medium.datadriveninvestor.com/are-you-fed-up-with-long-running-tests-here-are-the-strategies-to-control-it-b7678026298c?source=collection_archive---------6----------------------->

![](img/bf50319024d75b75b99a6e7e233baa7d.png)

[quayconsulting.com.au](https://www.quayconsulting.com.au/)

软件质量保证工程师经常面临缩短测试时间以确保产品按时发布的压力。通常，这意味着执行更少的测试周期，这可能会危及发布的质量，尤其是在有巨大影响特性的设置中。因此，使自动化测试更快需要一个小时，并且随着特性数量的增加，定制测试执行时间是非常关键的。随着产品周期包含需要频繁构建和测试周期的持续集成(CI ),加速自动化测试的压力非常大。然而，QA 团队可以应用不同的方法来提高测试执行的效率和速度。

在[旅行三角](https://traveltriangle.com/)中，QA 团队将测试执行时间减少了 50%，这有助于我们应对不断增长的回归范围。

让我们在下面的讨论中讨论这些策略，它们是通用的，适用于任何技术 QA 团队。

*不在讨论范围内——如何(代码实现)。*

# 1.并行测试执行

在多台机器上并行运行测试，这是减少测试执行时间的游戏规则改变者。Selenium Web-driver GRID 是并行测试执行的标准选项之一，如果团队需要一些定制的方法来分离测试及其执行，那么这可以通过定制的框架代码以及遵循客户机-服务器协议的基本测试自动化工具来实现。[旅行三角](https://traveltriangle.com/)遵循的典型结构如下-

其中 M1 是具有代码和脚本的客户端机器。

M2、M3、M4、M5 是自动化工具服务器(如 selenium server 等)运行的服务器机器。

因此，测试配置 1、2、3…是在 M2 执行测试的配置，测试配置 1 可以像“在 QA1 上对 Chrome 浏览器进行桌面健全性测试”，测试配置 2 可以像“在 QA2 上对 android 设备进行移动回归测试”等等。这些测试配置将在定制测试执行方面给予很大的自由度。

# 2.测试分离

在远程执行设置中将不同机器上的测试执行分离开来，对于减少 CI/CD 管道设置中测试构建的瓶颈起着至关重要的作用。所以这里的想法是以这样一种方式分离测试用例，没有测试组应该等待在不同的远程机器上排列的其他组的测试执行。例如，假设我们有 3 个测试组

-‘理智’需要 30 分钟，与机器 M1 一致

-“G1(运营+支付)”耗时 70 分钟，与 M2 保持一致

-和“TTSN”需要 30 分钟对准 M3。

如果我们并行运行这些组，那么整个 CI 管道将等待 M2 执行完成，整个交付管道时间将会增加。

[](https://www.datadriveninvestor.com/2019/01/23/which-is-more-promising-data-science-or-software-engineering/) [## 数据科学和软件工程哪个更有前途？数据驱动的投资者

### 大约一个月前，当我坐在咖啡馆里为一个客户开发网站时，我发现了这个女人…

www.datadriveninvestor.com](https://www.datadriveninvestor.com/2019/01/23/which-is-more-promising-data-science-or-software-engineering/) 

但是，如果我们稍微改变一下，把 G1 进一步分成“运营”和“支付”两组。

*   “理智+支付”映射到 M1，需要 50 分钟。
*   “付款 1”映射到 M2，总时间为 45 分钟。
*   和“TTSN +支付 2”映射到 M3，总时间 45 分钟。

因此，总执行时间将是 50 分钟，而不是 70 分钟。

# 3.无头测试执行

所以**无头测试**是一种不用头部运行浏览器 UI 测试的方式，这意味着没有浏览器 UI，没有任何种类的 GUI。所有已知的 web 浏览器都支持与 web 驱动程序集成的无头测试执行。支持的一些流行的驱动和库是 chromium，firefox，HTMLUnitDriver，PhantomJs 等等。

# 4.聪明地使用等待时间

一个易变的测试不断失败，因为后端没有及时响应或者一些资源仍然在加载，所以我们放入一个睡眠语句。这在测试执行时间中产生了复合效应。请使用条件等待，这样您的测试就不会等待不必要的等待。参考[本](https://dzone.com/articles/waits-in-selenium-how-to-use-implicit-amp-explicit)，了解内侍。

# 5.创建简短但有价值的测试套件

选择最重要的测试，并将它们放入运行速度更快的小套件中。这些通常是非常粗略的测试，但是它们对于进一步测试你的系统或应用是必要的。如果这些测试没有通过，就没有继续进行的意义。

# 让我们也讨论一些支持减少测试执行时间的测试框架定制-

*   在适当的地方暂停测试用例，而不是运行整个测试用例。一个优化的测试框架应该自动管理测试执行和设备适当的故障策略。例如，考虑一个假设的场景，用户填写表单并提交它以注册到一个应用程序中，完成配置文件并上传所有必需的文档。现在让我们假设测试用例在提交表单时失败了，所以执行步骤来完成注册和上传文档是没有意义的。现在让我们考虑一个场景，其中用户登录到列表页面，并验证不同的过滤器、搜索结果和所列商品的详细信息。测试用例不应该在任何步骤失败的情况下停止，因为所有的东西都应该在那个页面上被验证。
*   使用 API 和 web 服务来执行用户操作，而不是通过 web GUI 导航。例如，只要测试场景没有真正测试登录功能，就通过 API 登录，这样可以节省时间。

希望这个讨论能够帮助 QA 团队减少测试执行时间，减少产品交付中的瓶颈。然而，基于测试框架设计，不同团队的实现可能会有所不同。谢谢！