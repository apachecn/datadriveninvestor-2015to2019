# 如何让人们在一小时内准备好——雷神之锤

> 原文：<https://medium.datadriveninvestor.com/how-to-get-people-r-ready-in-an-hour-thors-hammer-d8c853abaf0b?source=collection_archive---------10----------------------->

## 使用雷神之锤让数据科学家以超乎想象的速度工作。雷神之锤只需要 5 块，你和你的新员工就可以开始了。

![](img/56b8a75e23d9bb333ec3b0b4138540dd.png)

“assorted-type hand tool lot” by [Ashim D’Silva](https://unsplash.com/@randomlies?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

欢迎来到你的新办公室！让我们看看你的电脑，你的主管在旁边说:

> 这是我们的工作文件夹。点击它，你会发现我们在做什么。有一个你需要使用的软件工具列表。请安装它们。如果有任何问题，问杰米。

这听起来熟悉吗？所以，如果你和使用 *R* 的人交谈，这有什么特别的。其实没什么。但是文本可能是这样开始的:

> 这是我们的工作文件夹。文件夹 A 包含了一些非常有用的脚本，我们称之为锤子。文件夹 B 包含一些我们开始的包，我们称之为剪刀，你会发现一些我们在 github 上开始的包，这些是锯子。我们也有一个包服务器，最好从那里安装东西。你可以选择你想用的 R 版本，杰米有最新的，问他是怎么做的。如果你能使用 RStudio 并在其中获得一些常见的包就太好了，也许 Jamie 有一个他最喜欢的包的列表。你最重要的项目在我们的 github 里面。所以请浏览文件夹结构。如果有任何问题，来找我，问杰米或检查维基。

是的酷。这些人有一个维基。至少我可以查些东西。好的，他们有三个不同的地方放 R 包，没人知道在哪个环境下工作，但是我可以处理这个。我们去杰米那里开始吧。

当我第一次看到这样的系统时，我真的快疯了。今天的生物统计学家、数据科学家或软件开发人员每小时的费用超过 150 美元。所以如果你的启动结构不好，你基本上浪费了最少两天时间。我的意思是，你听到的结构似乎并不坏，但它是。考虑到您将需要 30 分钟来获得 Jamie 的 R-environment，3 小时来安装它，5-6 小时来浏览包文件夹，5 小时或更多来阅读 wiki，2 小时来访问 github，然后您仍然会错过一些系统依赖项，这至少花费您 2325 美元。用这笔钱，你可以得到一台更好的电脑或全年免费咖啡。那么你能做些什么来对抗它呢？

1.  预先设置的 IDE 安装—节省 2 个小时
2.  标准 R 环境—节省 3 个小时
3.  工具列表+精美的安装教程—节省 5-6 个小时
4.  固定且标准化的文件夹结构或标准化的项目名称——挽救您的生命
5.  小插图集—节省至少 5 个小时

# IDE 安装

**集成开发环境** ( **IDE** )是你办公室里的家伙们工作的地方。它包含到源代码控制系统的连接、代码编辑器、运行代码的控制台，基本上是一切。你不希望有人浪费时间来设置这个。所以请准备一个安装脚本

*   安装 IDE
*   安装您的源代码控制系统所需的扩展和所有链接
*   安装所有的系统组件来使用这个 IDE(希望您从以前的项目中了解到)
*   将书签列表安装到您的重要文件夹
*   在预定义的文件夹或至少是扩展存储库中设置所有内容。您可以使用这样的文件夹:

```
C:\company_tools\IDEs\ourIDE
```

这个 IDE 安装脚本将为您部门中的每个人在同一个地方安装相同的 IDE。这样你就不会听到类似“*我如何访问 github？”*新人也不用打电话给你，因为上面写着“*没有以下系统组件就不可能访问版本控制:XXX，XXX，XXX”。*

万一 IDE 在同事的第一天崩溃，你知道去哪里找。这允许您检查系统`PATH`中缺失的插件和缺失的链接。您认为这只是为您节省了 5 分钟，但我提到的每个请求都需要 5 分钟。三个简单的问题 15 分钟 75 美元(0.25 小时* 150 美元/小时* 2 人)没了。

# 标准的休息环境

与 R 一起工作的人知道与同事分享代码有多难。他们安装了不同的包版本，他们在硬盘上的不同文件夹中有 R 环境，他们甚至可能有不同的 R 版本。如果你不为你的每个项目使用 [*packrat*](http://rstudio.github.io/packrat/) 或[*RstudioConnect*](https://www.rstudio.com/products/connect/)或 [*RCloud*](https://rcloud.social/index.html) ，所有这些麻烦都会发生。而这些麻烦肯定会发生，即使你这么做了。但是，这种情况会发生在同事开始工作的第一天吗？当然不是。

所以请给他们一个预**定义的 R 版本**，预装了一堆包。我建议安装至少 50 个，也许 100 个你日常使用的软件包。确定每位员工需要安装的一个 R 版 **~100 个包**。使用安装脚本将其安装在预定义的文件夹中。大约

```
C:\company_tools\R\R-Versions\R-3.4.0-company
```

请将预编译的整个安装脚本和要安装的软件包存储在公司的存储库中。安装过程不会持续很久，也不是所有的东西都需要重新编译。你办公室里的所有人至少应该有相同的操作系统，这样你就可以存储所有预先编译好的东西。这使得整个 R 安装成为一个复制粘贴过程，速度非常快。

# **工具列表+教程**

在一个或另一个 R 开发团队中，人们可能希望你安装一些工具。例如，在我的小组中，我们使用:

*   米克泰斯
*   图像魔术
*   Ghostscript
*   图书馆办公室
*   Pandoc
*   Java>1.8
*   饭桶
*   qpdf

因此，如果很明显你的同事迟早会需要这些工具，请给那个人提供一个安装脚本，让**为每个工具下载**最新版本，或者你定义的版本，然后**安装**。

有时人们需要**管理员权限**来安装所有这些。因此，他们不再每次安装时都请求安装程序，而是请求安装一次，然后安装你告诉他们的所有东西。

如果一个安装脚本不适合你，在你的 wiki 或者软件包简介中写一个条目。这将包含让工具准备工作所需的所有步骤。

# 固定且标准化的文件夹结构*或标准化的项目名称*

在 R 中，当涉及到文件夹和项目时，有许多不同的工作方式。我的两个主要观察或工作风格是:

1.  从事 github 和 RStudio 项目的人
2.  在共享驱动器/TFS/SVN 上工作并有子文件夹结构的人

1 对于与项目名称打交道的人来说，找到一个项目是很重要的，即使它是几年前开始的。此外，您不希望与同事发生冲突，因为两个项目有相同的名称。此外，一个项目不应该包含你的部门开发的所有代码。也许它只需要 50 行代码。因此，请定义以下内容:

*   您的项目的命名惯例是什么，例如用户名 _ 任务 _ 月份 _ 年份
*   您的项目一般有多大，例如一个 R 包、一个脚本文件、一个脚本文件+一个数据文件夹
*   谁被允许参与一个项目
*   您在哪里列出所有项目，例如维基、特定网站、票务管理系统

还有**最重要的部分** : **写下来**让大家都能看到**。如果你已经决定了这四个部分，写下来，使之成为一个可行的政策，如果人们不遵守规则，就踢他们的屁股。否则你会陷入混乱。**

这对第一天就知道他必须找到 Jamie 的一个项目的人来说真的很有帮助，这个项目可以叫做:

*Jamie 123 _ 聚类 _ 患者 _ 数据 _2017 年 1 月*

2 对于喜欢文件夹和文件夹结构的人来说，我估计要简单一点。多年后，你可能也想拥有寻找东西的能力。如果你想标准化 R-packages、研究项目、测试集和报告项目的开发，它们看起来应该是一样的。一个在你公司开发了一个 R-package 的人应该能够在几分钟内研究第二个并理解它。因此，请定义以下内容:

*   某个项目文件夹的名称应该是什么，例如 typeOfProject_name_month
*   R 包需要哪些子文件夹，例如变更日志文件夹、发布文件夹、测试文件夹、README.md 文件
*   你需要单独的文件夹来运行项目还是包？它们应该存放在不同的地方吗？
*   有没有任何类型的文件夹需要存在来存储扩展、插件、库？

还有**最重要的部分** : **写下来**，让大家都能看到**。如果你已经决定了这四个部分，写下来，使之成为一个可行的政策，如果人们不遵守规则，踢他们的屁股。否则你会陷入混乱。**

很抱歉我在重复自己的话，但我真的需要表明我的观点。

# 你收集的插图

这个有点 *R* 具体。但是与其写[合流](https://www.atlassian.com/software/confluence)或者 [Wiki](https://www.mediawiki.org/wiki/MediaWiki) 条目，我真的很喜欢用 vignets+[*pkg down*](https://github.com/r-lib/pkgdown)*的想法。对于任何开发项目来说，维基都是查找资料的好工具。但是在维基内部，你的代码不会立即运行。如果你正在写小短文向你的同事展示某些事情必须怎么做，你可以自己检查一下。您编写的用于记录安装脚本、标准 R 环境甚至文件夹结构的代码必须能够工作。每一行代码都可以在插图中执行。*

此外，vignettes 对于开发人员来说也是众所周知的，他们知道可以通过`vignette()`访问它们。而且[*pkg down*](https://github.com/r-lib/pkgdown)*包可以让你把全部信息放在一个网站上。这让它又成了维基。*

*我还建议你写一些关于你的标准方法的小短文，比如“如何构建一个包”，“如何用 R 代码编写函数调用的文档”，“如何用正确的设计生成一个 [*编织者*](https://yihui.name/knitr/) 报告”…。如果你做得很好，很全面，你的同事不会和杰米说话，他会看你的维基。你只需要一个人，而不是两个人一起工作。*

*当然，新来的家伙应该仍然和杰米一起喝咖啡，以了解发生了什么；)*

# *留给专业人士的东西*

*如果你真的想让你的同事轻松一些，写一个包含所有这些的 R 包。它可以包含安装脚本、简介、基本流程的函数、构建默认文件夹结构的函数，甚至可能是为全球 It 服务台的新手开罚单的函数。把它们都放在一个包里，并把它叫做: **thorshammer***

*这个包将是你同事第一个小时最重要的工具！*

# *最后的话*

*![](img/da64290c57e2152d20db93bd2da806d7.png)*

*“handheld tool lot” by [Cesar Carlevarino Aragon](https://unsplash.com/@carlevarino?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)*

*我想如果你按照我的指示去做，整个建立同事关系的过程会在一个小时内完成，甚至更短。你可以这样开始新的一天。*

*嘿，欢迎光临。这是你的电脑，请在下载 thorshammer 软件包后获得管理员权限。这将是你今天需要的一个工具。首先运行 `*welcome*` *bash 脚本。在脚本运行期间，您可以在 wiki 中了解它如何设置您的文件夹结构和 ide，以及您如何使用我们的版本控制。我们有一些如何在 thorshammer 中做事的基本教程，所以请使用它，看看我们是如何把事情搞定的。在你钉下几块木板后，请和杰米喝一杯咖啡，告诉你接下来要做什么。**

*享受你的咖啡。*