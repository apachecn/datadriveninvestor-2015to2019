# 谷歌云平台的第一步。

> 原文：<https://medium.datadriveninvestor.com/first-steps-with-google-cloud-platform-edc11ec8ac68?source=collection_archive---------11----------------------->

[![](img/6c753d4812cd15d7b7ad4f9b2bb1fbc1.png)](http://www.track.datadriveninvestor.com/1B9E)

这将是第一篇关于谷歌云平台的文章。接下来的文章将是我在 Coursera 电子学习平台上学习谷歌云专业课程的旅程。

我参加过的所有课程都直接把我带到了这个项目。我从来没有创建我的项目，设置规则，创建和连接我的计费帐户…以及类似的更有用的事情。

所以，我写这篇文章来帮助你在谷歌云平台(GCP)设置你的项目。

首先，你必须去 https://console.cloud.google.com 的 GCP 登录。

已经为您创建了一个项目。但是我们现在不会用它。我们会创造我们自己的。为此，点击左上角的“汉堡菜单”，从下拉菜单中点击 **IAM & admin** ，然后点击**设置**和**最后**T9**创建**按钮。****

![](img/049de620d27006bca27f839ac189d5c8.png)

Create the Project

在*新项目*页面写下您的项目名称。该名称将成为您的*项目的 ID* ，并且以后不能更改。暂时不要改变位置。点击**创建**按钮。在右上角的蓝色导航条上，你可以看到数字 1。这是通知铃，如果你悬停在它上面，你会看到它为什么通知你。

![](img/771296af42ac1ae0ad5b8a6d37bdf282.png)

Project Created

在 *IAM & admin* 页面点击**身份&组织**。在这里您可以注册您的企业，并获得企业的身份。同意服务条款，验证域名，配置&导入现有项目&计费账户，为用户创建账户。

如果你决定在*身份&组织**注册**，你将不得不通过云身份。所以，如果你有一个公司，你想添加用户，给他们角色…然后你必须这样做。你需要有一个域名(你公司网站的域名)和访问权限。这是一个非常简单的程序。完成后，您将能够迁移您的项目，计费和管理与 IAM 和角色的用户*

但是我想你是想在这里建立你自己的项目。所以，这里就不多说了。

在 *IAM & admin* 页面点击 **IAM** ，你会看到你的项目权限、项目名称、成员(是你用来登录的电子邮件地址、你的名字、角色以及是否有继承(不是我们的项目)。如果您想了解有关角色的更多信息，请单击左侧的角色

![](img/a4dcfe6f4260a56ea16c5f4ed9a773c1.png)

IAM

然后，我们必须启用我们将要使用的 API。有这么多 API，它们都被禁用了。这是一个非常好的主意。我不想为我不打算使用的东西收费！我想完全控制我的项目。

在下拉菜单中，汉堡菜单点击**API&服务。**您现在位于*仪表板*页面。您可以看到其中很多都已启用。第一个是 BigQuery API，如果你在右边点击**禁用**，你将可以选择禁用它(不要这样做，因为它是一个核心服务！)

![](img/7269cf62a9bb0c97b24c198a4d7cfecc.png)

API Dashboard

我想从我的项目中使用云发布/订阅。点击页面左侧的**库**。在搜索 API&服务写发布上，点击有**云发布/订阅 API** 的方块，点击**启用。**就是这样！

![](img/ed37c874bff1f3c60a54141404b8af38.png)

API Library

![](img/cc0442bda008596efe3ec5272678020f.png)

API Search

![](img/0a21a403f1f19c0ace2dd7311ff9677f.png)

API Enable

![](img/cc5237480e4b7b89991989ed31f59f1a.png)

Pub/Sub Enabled

启用 API 的另一种方法是直接进入产品页面。假设我想使用计算引擎，我可以从下拉汉堡菜单中单击它，并从那里启用它。但是您必须首先启用一个计费帐户。

对我来说，云最棘手的部分就在这里。有这么多的工具、产品和定价，我们必须知道我们为什么以及如何收费。

从下拉汉堡菜单中点击**记账**，然后**重命名** **记账** **账户**，写下新名称并按**确定**。在你的页面上，你可以看到你的账户的权限。如果需要，您可以添加成员并选择角色。

![](img/4b12d8cc6219c0ade277cacfe22c28c2.png)

Rename Billing

为了将您的项目与您的计费账户连接起来，单击您的账户名称旁边的向下箭头**和点击**管理计费账户**(在这里您可以*为您公司的不同部门创建账户*，然后点击**我的项目**，点击项目右端的 **3 个点**，最后点击**更改计费账户**。如果您返回到帐单的主页，您会看到您的项目已经链接到帐单帐户。**

![](img/5d941d880cfd63cb0f686b08d5c3ac2c.png)

Manage Billing Accounts

![](img/e0359deacf01f6d8a0674eabf15a3135.png)

Change Billing

![](img/a1b0592afea6e93b1175c41fb3514a78.png)

Linked Project & Billing Accounts

我们的项目还没有任何交易。

![](img/a03ea174a3064ba3747674c38b6de89b.png)

Transactions

这是在我们的**预算&提醒**时**创建** **预算**的最佳时机。当我们达到预算时，警报会通知我们。是 ***而不是*** 要停止我们正在使用的产品、工具，并为此向我们收费。请记住这一点！

您必须给出一个*预算名称*，选择*项目或记账账户*(我选择了该项目)，在*预算金额*我将其作为€100 的指定金额。

如果您未选中*信用后成本*复选框，那么您可能拥有的信用将被包括在内，然后是剩余的金额。如果我指定了€560，那么它将包括我目前拥有的€260 积分，然后是€300 积分。如果选中，它将包括我指定的€260 和€560。

我是这个项目中唯一的人，所以我会通过电子邮件被注意到。最后，检查*将发布/订阅主题连接到此预算*并找到您的项目。然后点击**保存**。

![](img/ce31df9322197dc04157c2b90ad1cf79.png)

Budget & Alerts

![](img/81604af8413c19b2034287497dd7d25d.png)

Alerts OK!

正如你可能已经看到的，有一个关于发布/订阅的警告。所以，现在我们要去汉堡菜单，点击 **Pub/Sub** ，**创建话题**，写一个名字，点击**创建**。

![](img/3db41c85003a33340b0ee33c236d2365.png)

Name Pub/Sub

![](img/e22a329efdd64d13c2461e542359fcae.png)

Pub/Sub Created

接下来，进入**云函数**、**启用 API** 、**创建函数**，更改*名称*或保持不变，将*触发器*更改为*云发布/订阅*，将*主题*更改为您的主题，点击**创建**。过一会儿，就会为你创建了。绿色勾号表示您的功能处于活动状态。

![](img/0ed70ef16e836e5080f7f99ede569af3.png)

Cloud Function

返回到您的*计费*页面，检查*将发布/订阅主题连接到此预算*，选择您的项目，选择您的发布/订阅主题，然后单击**保存**。

监督你的工作是个好主意。让我们从汉堡菜单进入**监控**。Stackdriver 将打开一个新选项卡。在占位符中，您将看到您的一个或多个项目。选择你想要的然后**创建** **工作空间**。**继续**将带您进入下一页，在这里您可以连接您的 AWS 帐户。做起来很容易，只要按照说明做就行了。我会**跳过 AWS 账号**。最后一步是在虚拟机上安装 Stackdriver 代理。我们正在使用的云功能已经安装了代理，所以我们不会使用它。但是如果你要使用 Compute 或者 Kubernetes 引擎，那么你需要完成这一步。

![](img/af982621c4e58a31b21350a91d35663d.png)

Stackdriver Step 1

![](img/2e735530c187653b8fe56ce2dd9fba4c.png)

Stackdriver Step 2

![](img/7f1044feb1220d192dfe78aaf1960e68.png)

Stackdriver Step 3

如果您想通过电子邮件获得报告，您可以在此处完成，点击**继续**，完成后**启动监控**。

![](img/505fcdbeea30b9640e09e72801f62103.png)

Email Reports

![](img/9850a56bedc4b6574c7139956644ce2c.png)

Launching

![](img/c2ee37735ebf4ee6549980d2c834ed6d.png)

Stackdriver Ready

再回到我们的**云函数**、**函数-预算**(这是我的函数名)，可以看到是什么时候触发的，可以查看**查看日志**。

![](img/59a7f2ac6cefb24647a44548afbded2c.png)

Function

![](img/3499ae1ba65bc4983afe8b4a59c0eda9.png)

Function Log Views

我想将我的账单导出，这就是我去**计费**、**计费导出**的原因。*文件导出*将以 CSV 或 JSON 格式发送给我们。你只需要给一个*桶名*和一个*报表前缀*。*大查询导出*有更多的步骤。单击**转到 BIGQUERY** ，单击项目旁边的**向下箭头**，**创建新数据集**，给出 DatasetID，然后返回到计费，检查在*计费导出数据集*，**保存**中是否有 DatasetID，一切就绪！

![](img/c11732de0cfdbdfc1c2550ff91e0b01b.png)

File Export

![](img/d87fc6428a1094945989cbd9ef9032d3.png)

BigQuery Export

![](img/3d48f8879e385dd4132e9e549e57f89f.png)

DatasetID

![](img/9cfeba064716cf970c4992b936631b52.png)

Billing & Dataset

![](img/1032557d81470f8d3d978f31bc946c40.png)

Export

如您所见，到目前为止，没有任何费用计入您的账单。可以用 App Engine 修复。或者任何其他来自 GCP 的产品或工具。一段时间后，您可以返回到 **BigQuery** ，点击您的数据集，您将找到您的第一个 gcp-billing-export！

你可以从谷歌 Playstore 下载云控制台应用程序，连接它，并从手机上观看你的项目的健康状况。

我希望你喜欢我的文章！