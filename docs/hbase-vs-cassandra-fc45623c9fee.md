# HBase vs 卡桑德拉

> 原文：<https://medium.datadriveninvestor.com/hbase-vs-cassandra-fc45623c9fee?source=collection_archive---------4----------------------->

[![](img/3910c99887d7fafd4181a3d7a8b34f7b.png)](http://www.track.datadriveninvestor.com/1B9E)![](img/51e560603841b8e10787d8d0722577f1.png)

从表面上看，HBase 和 Cassandra 似乎没有区别。就像你可能去汽车经销商那里看到的，看起来是两辆完全相同的汽车，但实际上，它们有不同的发动机和功能，HBase 和 Cassandra 也是如此。其实差别很大，比如 HBase 没有查询语言，而 Cassandra 有。在本文中，我们将比较 Cassandra 和 HBase，以便您选择适合您的产品。

[](https://www.datadriveninvestor.com/2018/10/23/running-to-get-rid-of-the-crazy-how-working-out-increases-your-productivity/) [## 跑步摆脱疯狂:锻炼如何提高你的生产力——数据驱动型投资者

### 没有比锻炼更好的方式来开始一天的工作了。我试着一周至少做四天，在…

www.datadriveninvestor.com](https://www.datadriveninvestor.com/2018/10/23/running-to-get-rid-of-the-crazy-how-working-out-increases-your-productivity/) 

# 体系结构

在架构方面，Cassandra 的是无主的，而 HBase 的是基于主的。通俗地说，与 Cassandra 相反，HBase 存在单点故障。如果你想知道这对你意味着什么，想想你能承受多少停机时间。一个 Cassandra 集群将 100%的时间为你服务。然而，由于 Cassandra 总是重新定位和复制数据，这可能会导致一致性问题。因此，如果您非常依赖数据一致性，那么 Hbase 将是更好的选择。在 Cassandra 中，所有的数据复制都是在内部完成的，但 HBase 是通过一种名为 HDFS 的第三方技术来完成的。

这不足为奇，因为 HDFS 不仅在数据复制方面依赖外部技术，在状态管理和元数据等方面也是如此。

# HBase 与 Cassandra 性能对比

服务器上的写入路径非常相似，唯一的区别是数据结构的名称。然而，当我们仔细观察时，我们会发现 HBase 在写入速度方面存在劣势，因为它不会同时写入日志和缓存。当[提供定制软件开发](https://skywell.software/)时，这可能是一个重大障碍。HBase 的缺点不止于此，还包括以下几点:

为了将数据写入正确的位置，客户端必须跨越各种各样的障碍。它需要从 Zookeeper 中找到哪个服务器拥有元表，然后他们需要从这个服务器中找到谁真正拥有他们需要写入的表。只有经历了所有这些过程，写作过程才能开始。如果这样的写和读经常发生，那么数据将被缓存，但是如果表区域被移动到另一个位置，那么客户机将不得不从头开始。Cassandra 在这方面更加用户友好，因为它使用散列法进行数据分发。

如果你需要更多的证据来证明 Cassandra 加速了写入过程，请记住，当缓存的数据被发送到磁盘时，HDFS 需要时间来真正存储数据。这只是另一个耗时和不必要的麻烦，可以通过使用 Cassandra 来避免。

就读取而言，如果您的业务需要大量快速且一致的读取，HBase 将是更好的选择。它在整个写入过程中使用一个单独的服务器，因此，您可以避免比较所有节点的数据版本。此外，在定位您的数据之前，HBase 服务器几乎没有数据结构要处理。我们已经提到 HBase 使用 HDFS 来存储信息，因此很容易得出 HBase 读取无效的结论，因为它必须每次都检索该信息。事实上，HBase 有一个块缓存，其中包含所有最常用的数据，此外，它还有布隆过滤器，其中包含其他数据的大致位置，如果需要这些数据，这将真正加快处理速度。由于 HBase 和 HDFX 中的索引系统都有许多层，所以它比 Cassandra 的索引更有效。你可能在文献中读到过卡珊德拉的阅读非常好，但当你读到 HBase 的阅读更好时，你会感到惊讶。然而，我们必须记住，卡珊德拉的阅读是有针对性的，很可能是不一致的。因此，即使 Cassandra 每秒可以执行多次读取，这些读取的数量也会下降。

![](img/33285ba33779a58ad047a7f3b8e602cd.png)

# 安全性

众所周知，NoSQL 的数据库有很多安全漏洞，因此，我们不应该对 Cassandra 和 HBase 也有安全漏洞感到惊讶。最大的问题是，当试图保护数据时，性能会受到影响。不过，它们都有一些内置的安全措施，比如身份验证和授权。Cassandra 有一些额外的安全特性:节点间和客户端到节点的加密。这并不意味着 HBase 使用起来不安全，但它确实依赖于第三方技术来实现其安全性以及其他一些功能。

当我们更详细地研究安全性时，我们看到这两个数据库在访问控制方面都提供了一些粒度。Cassandra 具有行级访问，而 HBase 甚至更深入地提供了单元格级访问。在 Cassandra 中，每个用户都被分配了特定的角色，这些角色决定了特定用户可以看到哪些信息。借助 HBase，每个数据集都有一个可见性级别，该级别由管理员指定，有点像标签，然后管理员告诉用户他们可以访问哪些标签。

# Cassandra 和 HBase 使用案例

这两种数据模型都可以很好地处理时间序列数据，这对于读取物联网设备中的传感器、跟踪网站数据、用户行为和许多其他用途非常有用。两者都有很强的存储和读取数据的能力。此外，它们是可伸缩的:Cassandra 具有线性可伸缩性，而 HBase 具有线性和模块化。如果你需要扫描大量的数据来产生狭窄的结果，那么 HBase 更好，因为没有重复。例如，这就是 HBase 用于分析文本的原因，例如在大型文档中查找单个单词。

对于大量的数据摄取，最好使用 Cassandra，因为它是一个非常有效的面向写的数据库。您可以使用它来构建一个始终可用的非常可靠的数据存储。此外，Cassandra 允许您在不同国家创建同步数据中心，如果您将它与 Spark 结合使用，您可以提高扫描性能。最大的区别如下:如果你需要网络或移动应用程序必须始终开启，并需要复杂或实时的分析，那么你应该选择 Cassandra。但是，如果不急着分析结果，那么您应该使用 HBase。

![](img/4f1ad5d1c981f0fd86392687ac234c50.png)

# 结论

概括一下到目前为止提到的一切:Cassandra 非常自给自足，而 HBase 在各个方面都依赖于第三方技术。Cassandra 和 HBase 都有各自的长处和短处，你只需要知道它们是什么，这样你就可以为你的项目选择一个合适的。正如我们从所有这些比较和对比中看到的，HBase 和 Cassandra 非常不同，尽管它们都是非常好的数据库模型，您应该分析手头的任务，以确定哪一个最适合您。之后，您应该尝试解决我们讨论过的一些安全问题，尤其是如果您将处理客户数据，并且许多国家/地区已经制定了许多法规，要求您以某种方式处理信息。因此，一定要像创建数据库一样关注这些法律法规。

*最初发表于*[*sky well . software*](https://skywell.software/blog/hbase-vs-cassandra/)*。*