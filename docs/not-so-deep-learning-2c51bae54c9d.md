# 没那么深的学问

> 原文：<https://medium.datadriveninvestor.com/not-so-deep-learning-2c51bae54c9d?source=collection_archive---------2----------------------->

![](img/f2ea57e521bb77e4946ecbcf1361bee0.png)

在这个人工智能和深度学习的时代，谈论传统的机器学习技术几乎是一种亵渎。但事实是，该行业的主要份额仍在研究不需要深度学习的问题，公司在解决这些问题上赚了很多钱。

所以让我们来谈谈我们遇到的最常见的问题——时间序列；以及我们如何利用可能是最通用的传统 ML 技术之一——决策树的集合，来解决时间序列问题。像往常一样，我的解释会非常简单，并用我的实际经验来阐述我的观点。

[](https://www.datadriveninvestor.com/2019/03/03/editors-pick-5-machine-learning-books/) [## DDI 编辑推荐:5 本让你从新手变成专家的机器学习书籍|数据驱动…

### 机器学习行业的蓬勃发展重新引起了人们对人工智能的兴趣

www.datadriveninvestor.com](https://www.datadriveninvestor.com/2019/03/03/editors-pick-5-machine-learning-books/) 

纯粹主义者可能不同意我在时间序列问题中使用决策树集合，因为决策树天生无法模拟我们在时间序列中寻找的典型关系，即。、趋势、季节性等。这是因为决策树是为捕捉非线性特征交互而制作的，它们不擅长概括训练期间看不到的特征值的关系。让我举个例子——如果 6 个鸡蛋值 30 印度卢比，2 个鸡蛋值 10 印度卢比，那么 12 个鸡蛋值多少钱？对于如此简单的问题，决策树会犹豫不决，答案将是 INR 30，因为这是它在训练中看到的最大目标值。

当涉及到趋势的时间序列时，这种灾难性的缺点使得基于决策树的方法处于较低的位置。

但这并不是故事的结尾。让我们从实践的角度回顾一下这个场景。让我们问自己一个问题——在机器学习中，我们多久会遇到时间序列有确定趋势的问题？我的回答是，几乎没有！如果问题就像我上面举例说明的鸡蛋问题一样简单，为什么有人会首先费心使用机器学习呢？

最近，我参与了咨询两个来自不同领域(分别是快速消费品和金融)的大型组织，以解决他们的时间序列问题——一个是建模促销对其快速消费品销售的有效性，另一个是预测最受欢迎的外国股票交易所之一的短期兴趣量(请参考 [investopedia](https://www.investopedia.com/terms/s/shortinterest.asp) 以了解什么是短期兴趣)。有超过 5000 个不同的时间序列目标——猜猜看，没有一个有任何明确的趋势可以被捕捉到一个预测模型中。如果这还不能完全说服你，你可以在应用其他技术对时间序列中的其他可变性建模之前，提取时间序列中确定性的部分(读取趋势)。

好了，现在我们已经为时间序列建模建立了一个不完全拒绝决策树的案例，问题是为什么选择决策树(而不是其他方法，如 ARIMA、ARCH/GARCH、SVR、神经网络等)？我们一个一个来盖。ARIMA 和 ARCH/GARCH 是在数据中存在重复模式的情况下工作良好的统计方法——条件均值(关键问题:均值会随时间重复吗？)在 ARIMA 和条件方差的情况下(关键问题:方差会随时间重复吗？)以防 ARCH/GARCH。现在，为了可靠地利用这些模型，你需要至少 5-6 个周期，在此期间，这些模式以特定的方式重复出现——否则，它们会导致可怕的过度拟合。不幸的是，在我谈到的两个咨询任务中，客户只有大约 3 个时期的数据。这并不是什么不寻常的事情——尽管所有关于大数据的“火花”，但即使在今天的行业中，大多数正在解决的机器学习问题本质上都是小数据。好吧，但为什么不是 SVR？因为 SVM 作为一种算法在有噪声的数据和离群值的情况下表现不佳，而我们的数据有太多离群值——就像你在许多现实生活问题中会发现的那样。最后，我不认为我需要澄清为什么神经网络不适合这里——仅仅是因为我们的数据集不够大，无法满足神经网络众所周知的对数据的贪婪渴求。

像 Random Forest 或 XGBoost 这样的决策树集合经常因为其输出缺乏可解释性而受到批评。然而，许多开源库可以帮助以直观的方式可视化特性的重要性、部分依赖性和瀑布贡献。

剩下的唯一问题是，如何以有利于使用决策树集合的方式参数化特征。这个问题相对容易回答，尽管许多数据科学家在这里遇到了困难。深度学习让我们忘记了一个重要的步骤，这个步骤曾经是早期每个机器学习项目的一部分——特征工程。随机森林或 xgboost 最不可能模拟的时序特征是什么？时间。更统计地说，决策树的集成本质上不知道特征之间的时间相关性和其中的互相关性。如果我们可以智能地设计时间序列中的时间特征，并提供一系列新特征(例如，各种时间粒度以捕捉季节性，滞后变量以捕捉交叉相关性和自相关性，滞后变化以捕捉任何营运资本密集型库存管理系统中可以看到的周期性波动，等等)。)对决策树来说，它们工作起来很有魅力！

所以，下一次有人仅仅因为你使用决策树的集合来解决时间序列问题而感到惊讶时，不要打扰。只管去做你最擅长的事情——让机器学习！